[{"number":129,"id":"I_kwDONwA1O867wsy_","title":"Machine Account and Key Management","body":"### High-Level Summary\n\nThis epic tracks the implementation of secure, scalable machine account and machine account key management for the Datum Cloud platform, leveraging Zitadel as the external authentication provider. \nThe work will be split between the milo repository (for CRDs and API types) and the new`auth-provider-zitadel` repository (for controllers, reconciliation logic, and Zitadel integration).\n\n### Motivation\n\nAs the platform grows, there is a need for robust, enterprise-grade management of machine/service accounts and their cryptographic keys. This enables secure automation, CI/CD, and workload identity, while aligning with industry best practices and compliance requirements. Integrating Zitadel as the auth provider allows us to delegate sensitive operations and leverage a mature, external identity platform.\n\n### Goals\n\n- Define and implement Kubernetes-native CRDs for machine accounts and keys in milo.\n- Build controllers in `auth-provider-zitade`l to reconcile these resources with Zitadel.\n- Support secure key lifecycle management (creation, registration, rotation, revocation).\n- Enable secure, short-lived token exchange for machine accounts.\n- Provide audit logging and user-facing documentation.\n\n### Non-Goals\n\n- User authentication flows (handled elsewhere).\n- UI or CLI tooling for resource management.\n- Direct user interaction with Zitadel outside of the automated controllers.","url":"https://github.com/datum-cloud/enhancements/issues/129","labels":{"nodes":[{"name":"Identity and Access Management"},{"name":"Datum Cloud"},{"name":"Milo"},{"name":"Roadmap Vote"}]},"updatedAt":"2025-10-02T16:15:04Z"},{"number":84,"id":"I_kwDONwA1O862OHMh","title":"Support SSO for organization authentication","body":"### Summary\n\nExtend the authentication platform to support Single Sign-On (SSO) for organizations by allowing them to bring their own identity provider (IdP). This enhancement will enable organization-level identity federation using standard protocols such as OIDC and SAML, allowing users to authenticate through their companyâ€™s existing IdP. The system should be capable of managing multiple IdP configurations across organizations and support Just-In-Time (JIT) user provisioning, SCIM-based user synchronization (future enhancement), and secure role mapping on login.\n\n### Motivation\n\nAs enterprise adoption of the platform increases, many organizations require integration with their internal identity providers to meet security and compliance standards. Supporting SSO is essential for:\n\n- Enhancing user experience through seamless login flows.\n- Enabling centralized identity and access governance.\n- Meeting enterprise security policies and compliance frameworks.\n- Reducing operational overhead for managing external user accounts.\n\nThis enhancement lays the groundwork for broader IAM improvements, including SCIM integration and advanced access policies.\n\n### Goals\n\n- Allow organizations to configure and manage their own identity providers.\n- Support standard SSO protocols: OIDC (OpenID Connect) as primary, with SAML as secondary.\n- Enable JIT provisioning of users upon successful SSO login.\n- Associate authenticated users with their organization context.\n- Support IdP-initiated and SP-initiated login flows.\n- Provide audit logs and traceability for authentication events.\n\n### Non-Goals\n\n- SCIM-based user synchronization (deferred to a future enhancement).\n- MFA enforcement or adaptive authentication at the IdP level.\n- Cross-organization role delegation or account linking across IdPs.\n\n### Dependencies\n\n- Depends on the Domain ownership work in #83. ","url":"https://github.com/datum-cloud/enhancements/issues/84","labels":{"nodes":[{"name":"Identity and Access Management"},{"name":"Datum Cloud"},{"name":"Milo"},{"name":"Roadmap Vote"}]},"updatedAt":"2025-09-08T20:09:01Z"},{"number":36,"id":"I_kwDONwA1O86s7FyM","title":"Machine Identity & Machine Keys","body":"### Overview\n\nThis enhancement tracks the development of machine identities and machine keys within the IAM system. Machine identities enables machines to authenticate and interact securely with platform resources. Machine keys will provide a mechanism for machines to exchange self-signed JWTs for short-linked tokens (using [RFC 7523](https://datatracker.ietf.org/doc/html/rfc7523)) that can be used to authenticate with the Datum Cloud platform.\n\nService accounts can be bound to IAM policies just like human users to grant a service account permission to a resource.\n\n### Expected Impact\n\n- Enables fine-grained access for machines manage platform resources\n- Provides a secure way for machines to exchange sensitive credentials for short-lived access tokens without Datum Cloud ever storing the secret key. \n\n### Additional Context\n\n### Machine Identity\n\nMachine Identities will be project level resources and be given a unique email address based on the machine identity name specified by the user at creation and the ID of the project the service account is created in.\n\nExample machine identity email:\n```text\nmy-service-account@my-datum-project.iam.datumapis.com\n```\n\n#### Assigning roles in an IAM policy\n\nThe machine identity email can be used to bind a machine to a role on a resource through an IAM policy.\n\n```yaml\nname: resourcemanager.datumapis.com/projects/{project-name}\nspec:\n  bindings:\n    - role: services/compute.datumapis.com/roles/workloadAdmin\n      members:\n        - machine:iam-operator@datum-cloud.iam.datumapis.com\n```\n\n### Machine Keys\n\nMachine keys can be created as a way for machines to authenticate with the Datum Cloud platform. Users will use a Datum-managed key where the private key is generated automatically by Datum and returned to the user at key creation or a user-managed key where the user generates a private key on their system and provides Datum with the public key. \n\n> [!IMPORTANT]\n>\n> We should encourage users to rotate machine keys periodically based on the needs of their organization. \n\n## References\n \n- [Google Cloud Platform Service Accounts](https://cloud.google.com/iam/docs/service-account-overview)\n- [JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants (RFC-7523)](https://datatracker.ietf.org/doc/html/rfc7523)\n","url":"https://github.com/datum-cloud/enhancements/issues/36","labels":{"nodes":[{"name":"Identity and Access Management"},{"name":"Datum Cloud"},{"name":"Milo"},{"name":"Roadmap Vote"}]},"updatedAt":"2025-09-08T20:09:49Z"}]
