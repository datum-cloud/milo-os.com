---
import '@v1/styles/page-about.css';

import { render } from 'astro:content';
import { getCollectionEntry } from '@utils/collectionUtils';

import Layout from '@layouts/Layout.astro';
import Hero from '@components/Hero.astro';
import Footer from '@components/Footer.astro';
import ImageHero from '@content/pages/images/milo-on-the-rock.png';
import { Image } from 'astro:assets';

const page = await getCollectionEntry('pages', 'about');

const { Content } = await render(page);

// SEO
const fm = page.data;
const meta = fm.meta || {};
const title = fm.title;
const description = fm.description;
---

<Layout title={title} description={description} bodyClass="about-page" meta={meta}>
  <section class="datum-container">
    <Hero class="dark hero--pad" title={title} description={description} subtitle={fm.subtitle}>
      <div slot="illustration" class="absolute z-0 right-0 bottom-0">
        <Image
          src={ImageHero}
          layout="constrained"
          loading="eager"
          fetchpriority="high"
          alt="Hero Illustration"
          class="fade-in-pure size-auto translate-y-9 md:translate-y-0 max-w-1/2 md:max-w-1/3 lg:max-w-1/2 ml-auto"
          data-reveal="fade-in-pure--visible"
          data-reveal-delay="200"
          data-reveal-immediate="true"
        />
      </div>
    </Hero>

    <Content />

    <Footer />
  </section>
</Layout>
