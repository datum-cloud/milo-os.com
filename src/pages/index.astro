---
import { Image } from 'astro:assets';

// import { Quote } from 'astro-pure/advanced';
import { PostPreview } from 'astro-pure/components/pages';
import { getBlogCollection } from 'astro-pure/server';
import { Button, Card /*, Icon, Label */ } from 'astro-pure/user';
import PageLayout from '@/layouts/BaseLayout.astro';
// import ProjectCard from '@/components/home/ProjectCard.astro';
import Section from '@/components/home/Section.astro';
// import SkillLayout from '@/components/home/SkillLayout.astro';
import miloHi from '@/assets/milo-hello.png';
// import config from '@/site-config';

// const languages = ['Html', 'JavaScript', 'CSS', 'Shell'];
// const frontend = ['TypeScript', 'Vite', 'Webpack', 'Astro'];
// const backend = ['Vercel', 'Waline'];

const MAX_POSTS = 10;
const allPosts = await getBlogCollection();
const allPostsByDate = allPosts
  .sort((a, b) => {
    const aDate = a.data.publishDate ? a.data.publishDate.valueOf() : 0;
    const bDate = b.data.publishDate ? b.data.publishDate.valueOf() : 0;
    return bDate - aDate;
  })
  .slice(0, MAX_POSTS);
---

<PageLayout meta={{ title: 'Home' }} highlightColor="#659EB9">
  <main class="flex w-full flex-col items-center">
    <section
      class="flex md:items-end flex-col md:flex-row md:gap-y-0 gap-x-8 bg-lemon w-full p-8 pb-0 mb-8 border-2 border-bone"
    >
      <div class="flex items-center justify-center mb-8 md:mb-0">
        <Image src={miloHi} alt="profile" class="w-full self-center" loading="eager" />
      </div>
      <div class="text-left flex flex-col gap-y-2 mb-8 md:mb-0 pb-8">
        <h2 class="text-3xl font-bold">Meet Milo. The brain behind your Alt Cloud.</h2>
        <p class="text-xl">
          Think Milo as an open source business OS built to help you grow, scale, and focus on your
          productâ€”not backend plumbing.
        </p>
      </div>
    </section>

    <div id="content" class="animate flex flex-col gap-y-10 md:w-4/5 lg:w-5/6 pt-6">
      <Section title="About">
        <p class="text-muted-foreground">
          Milo is a "business operating system" for product-led, B2B companies. Think of it like a
          control plane for modern service providers, built on top of a comprehensive system of
          record that ties together key parts of your business.
        </p>
        <Button title="More about me" class="w-fit self-end" href="/about" style="ahead" />
      </Section>

      {
        allPostsByDate.length > 0 && (
          <Section title="Posts">
            <ul class="flex flex-col gap-y-1.5 sm:gap-y-2">
              {allPostsByDate.map((p) => (
                <li class="flex flex-col gap-x-2 sm:flex-row">
                  <PostPreview post={p} />
                </li>
              ))}
            </ul>
            <Button title="More posts" class="w-fit self-end" href="/blog" style="ahead" />
          </Section>
        )
      }

      {
        (
          <Section title="Changelog">
            <Card
              heading="Lorem Ipsum"
              subheading="Sit amet consectetur"
              date="Dec 2022 - Nov 2023"
              imagePath="/src/assets/about-astro.png"
              altText="Lorem, ipsum dolor sit"
              imageClass="h-12 w-auto md:-start-16"
            >
              <ul class="ms-4 list-disc text-muted-foreground">
                <li>
                  Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolore debitis
                  recusandae, ut molestiae laboriosam pariatur!
                  <li>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, pariatur!
                  </li>
                </li>
              </ul>
            </Card>
            <Card
              heading="Lorem Ipsum"
              subheading="Sit amet consectetur"
              date="Dec 2022 - Nov 2023"
              imagePath="/src/assets/about-astro.png"
              altText="Lorem, ipsum dolor sit"
              imageClass="h-12 w-auto md:-start-16"
            />
          </Section>
        )
      }

      <!-- <Section title="Education">
        <Card
          heading="Lorem ipsum"
          subheading="Lorem ipsum dolor sit amet, vidit suscipit at mei."
          date="August 2021 - July 2025"
          href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
        />
      </Section> -->

      <!-- <Section title="Website List">
        <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
          <ProjectCard
            href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            heading="Lorem ipsum"
            subheading="dolor sit amet, oratio ornatus explicari pro ex"
            imagePath="/src/assets/projects/alex-tyson-2BAXJ7ha74s-unsplash.jpg"
          />
          <ProjectCard
            href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            heading="Lorem ipsum"
            subheading="dolor sit amet, oratio ornatus explicari pro ex"
            imagePath="/src/assets/projects/angelica-teran-Bk9hpaXHK4o-unsplash.jpg"
          />
          <ProjectCard
            href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            heading="Lorem ipsum"
            subheading="dolor sit amet, oratio ornatus explicari pro ex"
            imagePath="/src/assets/projects/kseniia-zapiatkina-yATU3rg8tNI-unsplash.jpg"
          />
          <ProjectCard
            href="/projects"
            heading="More projects"
            subheading="Check out more projects"
            imagePath="/src/assets/projects/wen-qiao-g_w8I64FiO0-unsplash.jpg"
          />
        </div>
      </Section>

      <Section title="Certifications">
        <Card
          as="a"
          heading="Lorem ipsum"
          subheading="Lorem ipsum dolor sit amet, vidit suscipit at mei. Quem denique mea id. Usu ei regione indoctum dissentiunt, cu meliore fuisset mei, vel quod voluptua ne. Ex dicat impedit mel, at eum oratio possit voluptatum. Dicat ceteros cu vim. Impetus fuisset ullamcorper pri cu, his posse iisque ad, aliquam honestatis usu id."
          date="July 2024"
          href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
        />
      </Section>

      <Section title="Skills">
        <SkillLayout title="Languages" skills={languages} />
        <SkillLayout title="Frontend" skills={frontend} />
        <SkillLayout title="Backend" skills={backend} />
      </Section> -->
    </div>
    <!-- <Quote class="mt-12" /> -->
  </main>
</PageLayout>
